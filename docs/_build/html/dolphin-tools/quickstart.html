

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quick Start Guide &mdash; dolphin 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="dolphin 1.0 documentation" href="../index.html"/>
        <link rel="up" title="Dolphin-Tools" href="Dolphin-Tools.html"/>
        <link rel="next" title="Dolphin-UI" href="../dolphin-ui/Dolphin-UI.html"/>
        <link rel="prev" title="Dolphin-Tools" href="Dolphin-Tools.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> dolphin
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../dolphin-docker/Dolphin-Docker.html">Dolphin-Docker</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="Dolphin-Tools.html">Dolphin-Tools</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">Quick Start Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#workflow-file">Workflow file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-a-workflow">Running a workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="#standart-output-of-a-run-in-docker">Standart output of a run in Docker</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-directory-structure">The directory structure:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dolphin-ui/Dolphin-UI.html">Dolphin-UI</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">dolphin</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="Dolphin-Tools.html">Dolphin-Tools</a> &raquo;</li>
      
    <li>Quick Start Guide</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/dolphin-tools/quickstart.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="quick-start-guide">
<h1>Quick Start Guide<a class="headerlink" href="#quick-start-guide" title="Permalink to this headline">¶</a></h1>
<p>dolphin-tools</p>
<p>This guide will walk you through creating new pipelines in dolphin step by step.</p>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>dolphin-tools need to be located in the processing units. It can be either a HPC system or a standalone machine. All required tools need to be installed in these systems.
First we are going to create a simple test pipeline. To be able to create a test pipeline and run it in the cluster we need a workflow file.</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Please check quick start guide for Docker or for HPC please use installation guide for the appropriate cluster section.</p>
</div>
<div class="section" id="workflow-file">
<h2>Workflow file<a class="headerlink" href="#workflow-file" title="Permalink to this headline">¶</a></h2>
<p>Workflow file is a text file and includes the directives about the workflow you want to create. This workflow file can reside either in your client machine or in your cluster.
runWorkflow.py script uses this workflow file to run the steps in your target processing units. runWorkflow script is basically a client script to connect a web-api to run the scripts in a distributed environment.
In addition to this, this script runs in the client system until all workflow ends succcessfully. This workflow file consists of three columns. First column is a name for the step. Second column the command you want to run in your remote machine  and the last column is the time interval that the client checks the run status.
If the run finished sucessfully or killed in the cluster or your host machine, the client senses this and continue or exit accordingly.
There are examples in tests/pipeline folder.</p>
<ul class="simple">
<li>Ex:</li>
</ul>
<p>Here we are going to run three steps in the cluster and runWorkflow script will check the steps in every second, if they finished sucessfully or not.</p>
</div>
<div class="section" id="running-a-workflow">
<h2>Running a workflow<a class="headerlink" href="#running-a-workflow" title="Permalink to this headline">¶</a></h2>
<p>To run a workflow runWorkflow.py file need to be called with the parameters below.</p>
<ul class="simple">
<li>Usage: runWorkflow.py [options]</li>
</ul>
<dl class="docutils">
<dt>Options:</dt>
<dd><table class="first last docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></td>
<td>show this help message and exit</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-i <var>INPUTPARAM</var></span>, <span class="option">--inputparam=<var>INPUTPARAM</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>input parameters for the workflow</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-p <var>DEFAULTPARAM</var></span>, <span class="option">--defaultparam=<var>DEFAULTPARAM</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>defined parameter file that will be run on cluster</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-u <var>USERNAME</var></span>, <span class="option">--username=<var>USERNAME</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>defined user in the cluster</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-k <var>WKEY</var></span>, <span class="option">--wkey=<var>WKEY</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>defined key for the workflow</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-w <var>WORKFLOWFILE</var></span>, <span class="option">--workflowfile=<var>WORKFLOWFILE</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>workflow filename</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-d <var>DBHOST</var></span>, <span class="option">--dbhost=<var>DBHOST</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>dbhost name</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-o <var>OUTDIR</var></span>, <span class="option">--outdir=<var>OUTDIR</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>output directory in the cluster</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-f <var>CONFIG</var></span>, <span class="option">--config=<var>CONFIG</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>configuration parameter section</td></tr>
</tbody>
</table>
</dd>
</dl>
<p>please chose your -f option according to your installation. If you are running this on Docker and made your definitions right on your Docker section right. The command should be something like below;</p>
</div>
<div class="section" id="standart-output-of-a-run-in-docker">
<h2>Standart output of a run in Docker<a class="headerlink" href="#standart-output-of-a-run-in-docker" title="Permalink to this headline">¶</a></h2>
<p>If everything is successfull you need to see an output something like below;</p>
<p>All    the services Ended</p>
</div>
<div class="section" id="the-directory-structure">
<h2>The directory structure:<a class="headerlink" href="#the-directory-structure" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>For each step you want to run will be a script under OUTDIR/scripts directory.</li>
<li>The standard output will be logged under tmp/lsf folder with its PID.std.</li>
</ul>
<p>There are other log files are about communication with mySQL and LSF logs if you are running them in LSF cluster
* Intermediate submission scripts are in tmp/src folder
* If there are other jobs submitted in the steps, they are going to be tracked under track folder to be able to resumed the jobs. But in this test, there is no such jobs.</p>
<div class="highlight-bash"><div class="highlight"><pre>/export/TEST
<span class="p">|</span>-- scripts
<span class="p">|</span>   <span class="p">|</span>-- step1.bash
<span class="p">|</span>   <span class="p">|</span>-- step2.bash
<span class="p">|</span>   <span class="sb">`</span>-- step3.bash
<span class="sb">`</span>-- tmp
    <span class="p">|</span>-- lsf
    <span class="p">|</span>   <span class="p">|</span>-- 862.jobStatus.log
    <span class="p">|</span>   <span class="p">|</span>-- 862.std
    <span class="p">|</span>   <span class="p">|</span>-- 895.jobStatus.log
    <span class="p">|</span>   <span class="p">|</span>-- 895.std
    <span class="p">|</span>   <span class="p">|</span>-- 927.jobStatus.log
    <span class="p">|</span>   <span class="sb">`</span>-- 927.std
    <span class="p">|</span>-- src
    <span class="p">|</span>   <span class="p">|</span>-- step1.submit.bash
    <span class="p">|</span>   <span class="p">|</span>-- step1.tmp.bash
    <span class="p">|</span>   <span class="p">|</span>-- step2.submit.bash
    <span class="p">|</span>   <span class="p">|</span>-- step2.tmp.bash
    <span class="p">|</span>   <span class="p">|</span>-- step3.submit.bash
    <span class="p">|</span>   <span class="sb">`</span>-- step3.tmp.bash
    <span class="sb">`</span>-- track
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../dolphin-ui/Dolphin-UI.html" class="btn btn-neutral float-right" title="Dolphin-UI" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Dolphin-Tools.html" class="btn btn-neutral" title="Dolphin-Tools" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Alper Kucukural, Nick Merowsky, Alistair Firth.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>